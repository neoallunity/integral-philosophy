# Журнал "Интегральная философия" - Структура проекта

## Обзор системы

Это система публикации научного журнала "Интегральная философия", построенная на LaTeX с использованием модульной архитектуры и автоматизированной системы сборки.

## Архитектура проекта

```
/workspace/
├── main.tex                # Основной файл документа
├── preamble.tex            # Загрузка конфигурации
├── journal.cls             # Пользовательский класс документа
├── journal.yml             # Конфигурация выпуска (YAML)
├── metadata.yml            # Метаданные (генерируется)
├── references.bib          # База данных библиографии
├── latexmkrc               # Конфигурация latexmk
├── Makefile                # Система сборки
├── README.md               # Описание проекта
├── LICENSE                 # Лицензия
├── cfg/                    # Конфигурационные модули
│   ├── cfg-metadata.tex    # Метаданные выпуска
│   ├── cfg-brand.tex       # Брендинг
│   ├── cfg-fonts.tex       # Шрифты
│   ├── cfg-typography.tex  # Типографика
│   ├── cfg-math.tex        # Математика
│   ├── cfg-floats.tex      # Плавающие объекты
│   ├── cfg-structure.tex   # Структура документа
│   ├── cfg-links.tex       # Ссылки
│   ├── cfg-bibliography.tex # Библиография
│   ├── cfg-glossary-index.tex # Глоссарий и индексы
│   ├── cfg-headers.tex     # Колонтитулы
│   ├── cfg-articles.tex    # Статьи
│   ├── cfg-editorial.tex   # Редакционные элементы
│   └── cfg-macros.tex      # Макросы
├── chapters/               # Содержимое выпуска
│   ├── 00-titlepage.tex    # Титульная страница
│   ├── 01-foreword.tex     # Предисловие
│   ├── 02-abstracts-eng.tex # Аннотации на английском
│   ├── 03-article-author1.tex # Статья 1
│   ├── 04-article-author2.tex # Статья 2
│   ├── 05-article-author3.tex # Статья 3
│   ├── 98-lists.tex        # Списки (в конце)
│   ├── 99-authors.tex      # Информация об авторах
│   └── 100-lastpage.tex    # Последняя страница
├── scripts/                # Вспомогательные скрипты
│   └── generate-metadata.py # Генерация метаданных
└── docs/                   # Документация
    ├── ANALYSIS.md
    ├── INTEGRATION.md
    ├── MAKEFILE-CHEATSHEET.md
    ├── MAKEFILE-PHILOSOPHY.md
    ├── MAKEFILE-USAGE.md
    ├── README.md
    └── USAGE-EDITORIAL.md
```

## Основные функции системы

### 1. Модульная конфигурация
Каждый аспект оформления отделен в отдельный файл конфигурации, что позволяет легко настраивать различные части системы.

### 2. Автоматическая генерация метаданных
Скрипт `generate-metadata.py` читает `metadata.yml` и создает `cfg/cfg-metadata.tex` с командами LaTeX.

### 3. Комплексная система сборки
Makefile предоставляет множество целей для сборки, проверки, очистки и других операций.

### 4. Многоуровневая структура документа
- `frontmatter` - титульные страницы, содержание, предисловие
- `mainmatter` - основные статьи
- `backmatter` - библиография, глоссарии, указатели

## Доступные команды Make

### Основные
- `make` или `make all` - сборка PDF
- `make build` - сборка PDF
- `make rebuild` - полная пересборка
- `make clean` - очистка временных файлов
- `make distclean` - полная очистка (включая PDF)

### Просмотр
- `make view` - открыть PDF
- `make watch` - непрерывная компиляция

### Проверка
- `make check` - проверить ссылки и цитирования
- `make validate` - проверить синтаксис
- `make warnings/errors/boxes` - показать соответствующие сообщения

### Статистика
- `make stats` - статистика проекта
- `make count-pages` - подсчет страниц
- `make count-words` - подсчет слов

### Журнальные функции
- `make update-metadata` - обновить метаданные выпуска
- `make new-article` - создать новую статью из шаблона

## Процесс публикации

1. Обновить `journal.yml` с информацией о выпуске
2. Добавить статьи в директорию `chapters/`
3. Обновить `main.tex`, добавив новые статьи
4. Выполнить `make build` для сборки PDF
5. Выполнить `make check` для проверки ссылок и цитирований
6. При необходимости выполнить `make report` для анализа проблем

## Технологии

- **LaTeX**: основной движок форматирования
- **LuaLaTeX**: рекомендуемый компилятор
- **Biber**: обработка библиографии
- **MakeIndex**: создание указателей
- **MakeGlossaries**: создание глоссариев
- **Latexmk**: автоматизация процесса компиляции

## Зависимости

Для работы системы требуются:
- TeXLive (или MacTeX) с поддержкой LuaLaTeX
- latexmk
- biber
- makeglossaries
- makeindex

Установка на Ubuntu/Debian:
```bash
sudo apt-get install texlive-full texlive-luatex latexmk biber
```

## Структура выпуска

Выпуск журнала состоит из:
1. Титульной страницы
2. Содержания
3. Предисловия
4. Аннотаций
5. Статей
6. Библиографии
7. Глоссария и списка сокращений
8. Указателей
9. Списков
10. Информации об авторах
11. Заключительной страницы